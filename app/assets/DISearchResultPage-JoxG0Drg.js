import{d as D,B as o,s as _,C as I,aE as b,u as a,o as r,a as l,b as i,am as P,g as n,S as u,t as f,aA as S,aO as T,p as d}from"./index-B9ncFhZ9.js";import{u as k,_ as E,D as N}from"./useDIListErrorWatcher-DBxiJ06e.js";import{b as $}from"./bis-Bw-5DPa6.js";import"./OpenNewTabButton.vue_vue_type_script_setup_true_lang-N3oNufr4.js";import"./inputswitch.esm-v0smpIrf.js";const B=D({__name:"DISearchResultPage",props:{signalType:{},queryParams:{}},setup(y){const p=y,e=o(()=>JSON.parse(p.queryParams)),t=o(()=>p.signalType),v=o(()=>N[t.value]),s=_({url:v.value,startImmediately:!1}),c=k(s);I(()=>{s.getParams=e,s.get()});const g=P("updatePageTitle");return b(()=>{t.value!=null&&g(`Просмотр ЦИ: сигнал ${T[t.value]}, НКА ${String(e.value.nka)}, БИС ${$(e.value.bis)}, период с  ${e.value.start?d(e.value.start):"-"} по ${e.value.end?d(e.value.end):"-"}`)}),(h,m)=>a(s).isDataNotEmpty?(r(),l(E,{key:0,data:a(s).data,"signal-type":t.value},null,8,["data","signal-type"])):a(s).loading?(r(),l(a(u),{key:1,severity:"info",closable:!1},{default:i(()=>m[0]||(m[0]=[n("Загрузка...")])),_:1})):a(c).hasError.value?(r(),l(a(u),{key:2,severity:"error",closable:!1},{default:i(()=>[n(f(a(c).error.value),1)]),_:1})):(r(),l(a(u),{key:3,severity:"info",closable:!1},{default:i(()=>[n(f(a(S).NO_DATA),1)]),_:1}))}});export{B as default};
