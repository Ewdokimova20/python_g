const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NavSolutionTable-BfgA-nhQ.js","assets/index-B9ncFhZ9.js","assets/index-B_mNaVkT.css","assets/BisSelectMenu.vue_vue_type_script_setup_true_lang-D_52kiR4.js","assets/useSelectedBisState-BJ3N0Krx.js","assets/setItemToLS-BDlwVMSR.js","assets/useSessionStorage-BONWqHvJ.js","assets/NavSolutionTable-Boe_GaT_.css","assets/NavSolutionPlanePlot-ofj4SUaN.js","assets/tooltip-dMyvHWD1.js","assets/NavSolutionPlanePlot-CQsnoPIF.css","assets/UserSolution-Ds0yCpJO.js","assets/bis-Bw-5DPa6.js","assets/UserSolution-DJ4OvuMs.css"])))=>i.map(i=>d[i]);
import{J as F,s as j,B as S,N as s,K as $,L as w,d as A,r as M,M as z,o as n,c as f,u as e,O as G,a as b,v as L,e as c,b as g,q,F as O,P as J,m as K,h,l as x,n as E,Q as I,R as Q,g as W,t as H,S as X,T as N,U as P,_ as Y}from"./index-B9ncFhZ9.js";import{u as U}from"./useSelectedBisState-BJ3N0Krx.js";import{u as Z,a as ee}from"./useSessionStorage-BONWqHvJ.js";const te=F("navSolutions",()=>{const i=j({url:"/nav_solution_groups",startImmediately:!0,updateRate:5e3}),p=S(()=>{var a;return(a=i.data)==null?void 0:a.immediate}),k=S(()=>{var a;return(a=i.data)==null?void 0:a.user}),D=S(()=>{var a;return(a=i.data)==null?void 0:a.best}),T=S(()=>{var a,d;if((a=i.error)!=null&&a.response){const r=(d=i.error)==null?void 0:d.response.status;if(r===404)return"Рассчитанные значения РНЗ отсутствуют";if(r===500)return"Произошла ошибка при расчете значений РНЗ"}return"Нет связи с серверной частью СПО КНП"}),o={[s.L1OF]:"--blue-500",[s.L2OF]:"--orange-300",[s.L1SF]:"--orange-300",[s.L2SF]:"--orange-300",[s.L3OCd]:"--teal-400",[s.L3OCp]:"--purple-200",[s.L1OCd]:"--yellow-200",[s.L1OCp]:"--green-300",[s.L2OCp]:"--green-300",[s.L1SCd]:"--blue-200",[s.L2SCd]:"--blue-200",[s.L1SCp]:"--orange-700",[s.L2SCp]:"--orange-700",[s.L2_CSI]:"--orange-700"},v=S(()=>{const a=getComputedStyle(document.documentElement);return i.available&&p.value!==void 0?Object.entries(p.value).reduce((r,[_,u])=>{if(!_)return{0:{datasets:[]}};const y={labels:[],datasets:[]};return y.datasets=Object.entries(u).reduce((t,[l,C])=>{const m={label:"",data:[]};m.data.push({x:C.e,y:C.n});const V=Number(l);return m.label=$(l),m.order=w(l),m.backgroundColor=a.getPropertyValue(o[V]),t.push(m),t.sort((B,R)=>B.order-R.order),t},[]),r[Number(_)]=y,r},{}):{0:{datasets:[]}}});return{service:i,data:p,userSolutionData:k,bestSolutionData:D,error:T,planeChartData:v}}),ae={key:0,class:"w-full max-w-full h-full"},se={class:"grid-3 w-full"},oe=A({__name:"NavSolution",setup(i){const p=N(()=>P(()=>import("./NavSolutionTable-BfgA-nhQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),k=N(()=>P(()=>import("./NavSolutionPlanePlot-ofj4SUaN.js"),__vite__mapDeps([8,1,2,9,3,4,5,6,10]))),D=N(()=>P(()=>import("./index-B9ncFhZ9.js").then(_=>_.dj),__vite__mapDeps([1,2]))),T=N(()=>P(()=>import("./UserSolution-Ds0yCpJO.js"),__vite__mapDeps([11,1,2,12,4,5,6,13]))),o=te();o.service.start();const v=U("selectedBisStateForNavSolutionTables"),a=U("selectedBisStateForNavSolutionPlots"),d=M(!1),r=Z("navSolutionCurrentTab",0);return z(()=>{o.service.stop()}),ee(18e4),(_,u)=>{const y=J("tooltip");return n(),f(O,null,[e(o).service.available?G((n(),b(e(K),{key:0,rounded:"",class:"user-solution-button",icon:"pi pi-sliders-v",onClick:u[0]||(u[0]=t=>d.value=!0)},null,512)),[[y,"Пользовательское РНВЗ","left"]]):L("",!0),c(e(D),{visible:d.value,"onUpdate:visible":u[1]||(u[1]=t=>d.value=t),style:{width:"min-content"},header:"Пользовательское РНВЗ и определение НКА, вносящего наибольшую погрешность"},{default:g(()=>[c(e(T))]),_:1},8,["visible"]),e(o).service.available?(n(),b(e(Q),{key:1,activeIndex:e(r),"onUpdate:activeIndex":u[2]||(u[2]=t=>q(r)?r.value=t:null),class:"tabview",lazy:!0},{default:g(()=>[c(e(I),{header:"Таблицы"},{default:g(()=>[(n(),f(O,null,h([0,2,4],t=>x("div",{key:t,class:"grid justify-content-center",style:{gap:"1rem"}},[(n(),f(O,null,h([0,1],l=>x("div",{key:l+t},[e(v)[l+t]!=null?(n(),b(e(p),{key:0,bis:e(v)[l+t],"onUpdate:bis":C=>e(v)[l+t]=C,class:"col-3"},null,8,["bis","onUpdate:bis"])):L("",!0)])),64))])),64)),e(o).service.available?(n(),b(E,{key:0,timestamp:e(o).service.lastGet},null,8,["timestamp"])):L("",!0)]),_:1}),c(e(I),{header:"Графики"},{default:g(()=>[e(r)===1?(n(),f("div",ae,[x("div",se,[(n(),f(O,null,h([0,1,2,3,4,5],t=>c(e(k),{width:"20%",key:t,bis:e(a)[t],"onUpdate:bis":l=>e(a)[t]=l,"enable-legend":t===0||t===3,class:"p-0 pb-3"},null,8,["bis","onUpdate:bis","enable-legend"])),64))]),c(E,{timestamp:e(o).service.lastGet},null,8,["timestamp"])])):L("",!0)]),_:1})]),_:1},8,["activeIndex"])):(n(),b(e(X),{key:2,closable:!1,severity:"error"},{default:g(()=>[W(H(e(o).error),1)]),_:1}))],64)}}}),re=Y(oe,[["__scopeId","data-v-83dcfcfd"]]),ue=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"}));export{ue as N,te as u};
