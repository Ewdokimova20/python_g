import{d as R,s as k,o as r,c as _,l as f,F as g,h as C,e as n,u as e,n as x,a as y,b as d,q as I,v as T,x as D,y as V,m as $,z as N,_ as M}from"./index-B9ncFhZ9.js";import{g as S,b as v}from"./bis-Bw-5DPa6.js";import{R as w,a as z}from"./ReceptionControlMiniTable-DlNuzOGG.js";import{u as h,a as F}from"./useSessionStorage-BONWqHvJ.js";const j={style:{"min-height":"var(--content-height)"},class:"flex flex-column justify-content-center"},q={class:"grid-40"},E=R({__name:"DIReceptionMonitoring",setup(G){var c;const t=h("currentBisId",((c=S())==null?void 0:c.bisId)??null),i=h("isBigTableVisible",!1);F(3e5);const s=k({url:"/di_reception_data",startImmediately:!0,updateRate:3e3}),B=o=>{var l;((l=s.data)==null?void 0:l[o])!=null&&(t.value=o,i.value=!0)};return(o,l)=>{var u;return r(),_(g,null,[f("div",j,[f("div",q,[(r(),_(g,null,C(40,a=>{var m,p;return n(e($),{key:a,class:V(["border-none p-0 ",((m=e(s).data)==null?void 0:m[a])&&"hover:shadow-3"]),style:{"background-color":"transparent"},disabled:((p=e(s).data)==null?void 0:p[a])==null,onClick:()=>B(a)},{default:d(()=>[n(e(D),{legend:`БИС ${e(v)(a)??"-/-"}`,class:"m-0"},{default:d(()=>{var b;return[n(w,{"table-data":(b=e(s).data)==null?void 0:b[a],mode:"di"},null,8,["table-data"])]}),_:2},1032,["legend"])]),_:2},1032,["class","disabled","onClick"])}),64))]),n(x,{timestamp:e(s).lastGet},null,8,["timestamp"])]),e(t)!=null&&((u=e(s).data)==null?void 0:u[e(t)])!=null?(r(),y(e(N),{key:0,visible:e(i),"onUpdate:visible":l[0]||(l[0]=a=>I(i)?i.value=a:null),header:`БИС ${e(t)!=null?e(v)(e(t)):"-/-"}`},{default:d(()=>[n(z,{"bis-id":e(t),mode:"di"},null,8,["bis-id"])]),_:1},8,["visible","header"])):T("",!0)],64)}}}),A=M(E,[["__scopeId","data-v-2a263c9e"]]);export{A as default};
