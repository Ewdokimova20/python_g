import{d as y,r as n,G as _,ai as D,aE as h,o as s,c as I,e as E,az as k,a as l,b as i,u as a,F as w,am as b,g as u,S as c,t as d,aA as T,aO as x}from"./index-B9ncFhZ9.js";import{u as N,_ as P,D as S}from"./useDIListErrorWatcher-DBxiJ06e.js";import"./OpenNewTabButton.vue_vue_type_script_setup_true_lang-N3oNufr4.js";import"./inputswitch.esm-v0smpIrf.js";const C=y({__name:"DIView",setup(A){const r=n(!1),p=n(),t=n(null),e=_(new D({url:"",startImmediately:!1})),f=N(e);function g(o){e.data=[],r.value=!1,p.value=void 0,e.getParams=o,t.value=o.signalType,e.url=S[t.value],e.get(),r.value=!0}const v=b("updatePageTitle");return h(()=>{t.value!=null&&v(`Просмотр ЦИ: сигнал ${x[t.value]}`)}),(o,m)=>(s(),I(w,null,[E(k,{"loading-state":e.loading,"has-timestamp-choice":!0,"is-with-signal-type":!0,"does-button-open-new-tab":!0,onQueryParams:g},null,8,["loading-state"]),r.value&&e.isDataNotEmpty?(s(),l(P,{key:0,data:e.data,"signal-type":t.value},null,8,["data","signal-type"])):e.loading?(s(),l(a(c),{key:1,severity:"info",closable:!1},{default:i(()=>m[0]||(m[0]=[u("Загрузка...")])),_:1})):a(f).hasError.value?(s(),l(a(c),{key:2,severity:"error",closable:!1},{default:i(()=>[u(d(a(f).error.value),1)]),_:1})):(s(),l(a(c),{key:3,severity:"info",closable:!1},{default:i(()=>[u(d(a(T).NO_DATA),1)]),_:1}))],64))}});export{C as default};
