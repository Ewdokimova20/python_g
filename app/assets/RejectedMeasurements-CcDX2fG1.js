import{d as b,s as y,r as k,w as E,o as i,c as o,e as u,u as r,az as D,b as d,a as p,F,h as O,f as x,g as n,t as f,j as T,S as v,aA as _,aB as c,p as A,H as C}from"./index-B9ncFhZ9.js";const R={key:0},B=b({__name:"RejectedMeasurements",setup(S){const l=y({url:"residuals_rejected",startImmediately:!1});function g(e){l.getParams=e,l.get()}const a=k();E(()=>l.error,e=>{if(e){const t=e==null?void 0:e.response;t?t.status===404?a.value=c.NOT_FOUND:t.status===400?a.value=t.data:a.value=c.DEFAULT:e!=null&&e.request?a.value=_.NO_CONNECTION:a.value=c.DEFAULT}else a.value=""});const m=(e,t)=>e[t].toFixed(2),N=[{field:"timestamp",header:"Время",sortable:!0,handler:e=>e.timestamp&&A(e.timestamp)},{field:"nka",header:"НКА",sortable:!0},{field:"signal1",header:"Тип сигнала",handler:e=>C[e.signal1]},{field:"residual",header:"Невязка ПД, м",handler:m},{field:"nkaElevation",header:"Угол места НКА, град",handler:m}];return(e,t)=>(i(),o("div",null,[u(D,{"loading-state":r(l).loading,"is-with-nka":!1,"is-bis-with-generalized":!1,onQueryParams:g},null,8,["loading-state"]),r(l).isDataNotEmpty?(i(),o("div",R,[u(r(T),{value:r(l).data,"sort-field":"signal","sort-order":-1,"responsive-layout":"scroll","scroll-height":"650px"},{default:d(()=>[(i(),o(F,null,O(N,s=>u(r(x),{key:s.field,field:s.field,header:s.header,sortable:s.sortable??!1},{body:d(({data:h})=>[n(f(s.handler?s.handler(h,s.field):h[s.field]),1)]),_:2},1032,["field","header","sortable"])),64))]),_:1},8,["value"])])):a.value?(i(),p(r(v),{key:1,severity:"error",closable:!1},{default:d(()=>[n(f(a.value),1)]),_:1})):(i(),p(r(v),{key:2,severity:"info",closable:!1},{default:d(()=>[n(f(r(_).NO_DATA),1)]),_:1}))]))}});export{B as default};
