import{d as Y,k as Z,r as w,G as V,ai as h,B as m,w as ss,o,c as i,l as e,t as d,g as l,u as r,F as b,v as T,e as _,a as p,b as v,h as W,p as g,S as c,cO as ts,aA as I,_ as es}from"./index-B9ncFhZ9.js";import{_ as x}from"./ComparisonTable.vue_vue_type_script_setup_true_lang--VMzfCjq.js";import{c as S}from"./utils-BUzwWt9V.js";const as={key:0},ls={class:"table"},os={class:"font-semibold"},rs={class:"flex flex-column align-items-center m-auto",style:{gap:"2rem",width:"60%"}},ds={key:0,class:"w-full mb-2"},ns={class:"text-lg mb-2"},is={key:2,class:"w-full mb-2"},us={class:"text-lg mb-2"},ms={key:4,class:"w-full"},fs={class:"text-lg mb-2"},bs={key:6,class:"w-full"},ps={class:"text-lg mb-2"},vs=Y({__name:"CompareDIandSI",props:{id:{},signalType:{}},setup(X){const C=X,D=Z(),u=w(""),a=V(new h({url:"/compare_DI_SI"}));a.getParams={id:C.id,signalType:C.signalType},a.get();const E=m(()=>{var t,s,n;return((n=(s=(t=a.data)==null?void 0:t.forms)==null?void 0:s.form893)==null?void 0:n.data)??[]}),F=m(()=>{var t,s,n;return((n=(s=(t=a.data)==null?void 0:t.forms)==null?void 0:s.form169)==null?void 0:n.data)??[]}),A=m(()=>{var t,s,n;return((n=(s=(t=a.data)==null?void 0:t.forms)==null?void 0:s.form895)==null?void 0:n.data)??{}}),B=m(()=>{var t,s,n;return((n=(s=(t=a.data)==null?void 0:t.forms)==null?void 0:s.form701)==null?void 0:n.data)??{}}),N=t=>(t==null?void 0:t.recordData)??{},M=m(()=>{var t,s;return N((s=(t=a.data)==null?void 0:t.forms)==null?void 0:s.form893)}),U=m(()=>{var t,s;return N((s=(t=a.data)==null?void 0:t.forms)==null?void 0:s.form895)}),L=m(()=>{var t,s;return N((s=(t=a.data)==null?void 0:t.forms)==null?void 0:s.form169)}),j=m(()=>{var t,s;return N((s=(t=a.data)==null?void 0:t.forms)==null?void 0:s.form701)});return ss(()=>a.error,t=>{if(t){const s=t==null?void 0:t.response;s?s.status===401?u.value=s==null?void 0:s.data:s.status===404?u.value=ts.NOT_FOUND:s.status===400?u.value=I.INSUFFICIENT_PARAMS:u.value=I.DEFAULT:t!=null&&t.request?u.value=I.NO_CONNECTION:u.value=I.DEFAULT}else u.value=""}),(t,s)=>{var n,P,R,q,G,$,z,H,J,K,Q;return!u.value&&!a.loading?(o(),i("div",as,[e("table",ls,[e("tr",null,[s[0]||(s[0]=e("td",{class:"font-bold"},"Тип сигнала",-1)),e("td",os,d(C.signalType),1)]),e("tr",null,[s[1]||(s[1]=e("td",{class:"font-bold"},"Системная точка",-1)),e("td",null,d((n=a.data)==null?void 0:n.sysNum),1)]),e("tr",null,[s[2]||(s[2]=e("td",{class:"font-bold"},[l("t"),e("sub",null,"b"),l("(ЦИ)")],-1)),e("td",null,d((P=a.data)==null?void 0:P.time.tb),1)]),e("tr",null,[s[3]||(s[3]=e("td",{class:"font-bold"},[l("N"),e("sub",null,"T")],-1)),e("td",null,d((R=a.data)==null?void 0:R.time.n),1)]),e("tr",null,[s[4]||(s[4]=e("td",{class:"font-bold"},[l("Время t"),e("sub",null,"b")],-1)),e("td",null,d((q=a.data)!=null&&q.time.tbTimestamp?r(g)((G=a.data)==null?void 0:G.time.tbTimestamp):""),1)]),e("tr",null,[s[5]||(s[5]=e("td",{class:"font-bold"},[l("Время t"),e("sub",null,"k"),l(" (ОМВ)")],-1)),e("td",null,d(($=a.data)!=null&&$.time.timestamp?r(g)((z=a.data)==null?void 0:z.time.timestamp):""),1)])]),e("div",rs,[E.value.length>0?(o(),i("div",ds,[e("h2",ns,[s[6]||(s[6]=l(" ЭИ (форма 893")),(H=M.value)!=null&&H.timestamp?(o(),i(b,{key:0},[l(", запись в ЦБД от "+d(r(g)((J=M.value)==null?void 0:J.timestamp)),1)],64)):T("",!0),s[7]||(s[7]=l(") "))]),_(x,{class:"border-1 border-primary-100",columns:r(S),data:E.value,"is-loading":a.loading},null,8,["columns","data","is-loading"])])):(o(),p(r(c),{key:1,severity:"error",closable:!1},{default:v(()=>s[8]||(s[8]=[l("Данные о сравнении ЭИ (форма 893) отсутствуют")])),_:1})),F.value.length>0?(o(),i("div",is,[e("h2",us,[s[9]||(s[9]=l(" ЧВП (форма 169")),(K=L.value)!=null&&K.timestamp?(o(),i(b,{key:0},[l(", запись в ЦБД от "+d(r(g)((Q=L.value)==null?void 0:Q.timestamp)),1)],64)):T("",!0),s[10]||(s[10]=l(") "))]),_(x,{class:"border-1 border-primary-100",columns:r(S),data:F.value,"is-loading":a.loading},null,8,["columns","data","is-loading"])])):(o(),p(r(c),{key:3,severity:"error",closable:!1},{default:v(()=>s[11]||(s[11]=[l("Данные о сравнении ЧВП (форма 169) отсутствуют")])),_:1})),Object.values(A.value).length>0?(o(),i("div",ms,[(o(!0),i(b,null,W(A.value,(O,f)=>{var y,k;return o(),i("article",{key:f,class:"mb-4"},[e("h2",fs,[s[12]||(s[12]=l(" Альманах (форма 895")),(y=U.value)!=null&&y.timestamp?(o(),i(b,{key:0},[l(", запись в ЦБД от "+d(r(g)((k=U.value)==null?void 0:k.timestamp)),1)],64)):T("",!0),l(") для НКА "+d(f)+" ("+d(r(D).nkuNumTosysNum(Number(f))??"-")+") ",1)]),_(x,{class:"border-1 border-primary-100",columns:r(S),data:O,"is-loading":a.loading},null,8,["columns","data","is-loading"])])}),128))])):(o(),p(r(c),{key:5,severity:"error",closable:!1},{default:v(()=>s[13]||(s[13]=[l("Данные о сравнении альманаха (форма 895) отсутствуют")])),_:1})),Object.values(B.value).length>0?(o(),i("div",bs,[(o(!0),i(b,null,W(B.value,(O,f)=>{var y,k;return o(),i("article",{key:f,class:"mb-4"},[e("h2",ps,[s[14]||(s[14]=l(" Значение сдвига ШВ (форма 701")),(y=j.value)!=null&&y.timestamp?(o(),i(b,{key:0},[l(", запись в ЦБД от "+d(r(g)((k=j.value)==null?void 0:k.timestamp)),1)],64)):T("",!0),l(") для НКА "+d(f)+" ("+d(r(D).nkuNumTosysNum(Number(f))??"-")+") ",1)]),_(x,{class:"border-1 border-primary-100",columns:r(S),data:O,"is-loading":a.loading},null,8,["columns","data","is-loading"])])}),128))])):(o(),p(r(c),{key:7,severity:"error",closable:!1},{default:v(()=>s[15]||(s[15]=[l("Данные о сравнении для значения сдвига ШВ (форма 701) отсутствуют")])),_:1}))])])):a.loading?(o(),p(r(c),{key:1,severity:"info",closable:!1},{default:v(()=>s[16]||(s[16]=[l("Загрузка...")])),_:1})):(o(),p(r(c),{key:2,severity:"error",closable:!1},{default:v(()=>[l(d(u.value),1)]),_:1}))}}}),ks=es(vs,[["__scopeId","data-v-086dd5b3"]]);export{ks as default};
